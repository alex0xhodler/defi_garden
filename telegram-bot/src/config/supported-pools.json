{
  "pools": [
    {
      "id": "morpho-pyth-usdc",
      "name": "Morpho PYTH/USDC",
      "description": "MetaMorpho vault with PYTH/USDC strategy providing ~10% APY",
      "apy": "~10%",
      "tvl": "$50M+",
      "risk": "medium",
      "chain": "base",
      "asset": "USDC",
      "contracts": {
        "vault": "0x0FaBfEAcedf47e890c50C8120177fff69C6a1d9B",
        "asset": "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913"
      },
      "decimals": {
        "asset": 6,
        "shares": 18
      },
      "status": "active",
      "integration": {
        "pattern": "erc4626-direct",
        "service": "src/services/morpho-defi.ts",
        "testDeposit": "src/scripts/test-morpho-deposit.ts",
        "testWithdrawal": "src/scripts/test-morpho-withdrawal.ts"
      },
      "testTransactions": {
        "deposit": {
          "hash": "0x82ea33604034c8ec2c917f1cbebe223a22212c530e2e00c1f4c92065cadb0846",
          "amount": "0.1 USDC",
          "shares": "100000",
          "gasUsed": "1400878",
          "gasless": true
        },
        "withdrawal": {
          "hash": "0xc5721a2f28c9a44d8dd5d95fa9df109ad2e0499276e77fe3e41fa5f7c26b1c3e",
          "shares": "0.05",
          "assets": "0.052625 USDC",
          "yieldBonus": "+5.25%",
          "gasUsed": "543389",
          "gasless": true
        }
      },
      "commands": {
        "testDeposit": "npm run test:morpho -- --key YOUR_KEY --amount 0.1",
        "testWithdrawal": "npm run test:morpho-withdraw -- --key YOUR_KEY --shares 0.05"
      },
      "defillama": {
        "poolId": "301667a4-dc42-492d-a978-ea4f69811a72",
        "url": "https://yields.llama.fi/pool/301667a4-dc42-492d-a978-ea4f69811a72"
      },
      "addedDate": "2025-09-06",
      "lastTested": "2025-09-06",
      "integrationNotes": [
        "Uses direct ERC4626 deposit/redeem pattern",
        "Gasless transactions via CDP Paymaster", 
        "Proven yield generation (+5.25% bonus observed)",
        "100% success rate in testing",
        "Reference implementation for future integrations"
      ]
    },
    {
      "id": "spark-usdc",
      "name": "Spark USDC Vault",
      "description": "MetaMorpho Spark USDC vault on Base via Morpho infrastructure",
      "apy": "~8%",
      "tvl": "TBD",
      "risk": "low",
      "riskScore": "3/10",
      "chain": "base",
      "asset": "USDC",
      "contracts": {
        "vault": "0x7bfa7c4f149e7415b73bdedfe609237e29cbf34a",
        "asset": "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",
        "generalAdapter": "0xb98c948cfa24072e58935bc004a8a7b376ae746a",
        "bundler": "0x6bfd8137e702540e7a42b74178a4a49ba43920c4"
      },
      "decimals": {
        "asset": 6,
        "shares": 18
      },
      "status": "testing",
      "integration": {
        "pattern": "morpho-multicall",
        "service": "src/services/spark-defi.ts",
        "testDeposit": "src/scripts/test-spark-deposit.ts",
        "testWithdrawal": "src/scripts/test-spark-withdrawal.ts"
      },
      "testTransactions": {
        "deposit": {
          "hash": "0xdbdce090221724ec5c2e0183123bee8518884d981ef03e50a9d174c771b7113f",
          "amount": "1.0 USDC",
          "shares": "~0.968 SPARKUSDC",
          "gasUsed": "303545",
          "gasless": true,
          "note": "Reference transaction from stack trace"
        },
        "withdrawal": {
          "hash": "0xa27d33363fa01a5798b9d695191c8497cab423279caa5989e407f8444992957d",
          "shares": "0.968 SPARKUSDC",
          "assets": "1.0 USDC",
          "gasUsed": "259800",
          "gasless": true,
          "note": "Reference transaction from stack trace"
        }
      },
      "commands": {
        "testDeposit": "npm run test:spark -- --key YOUR_KEY --amount 0.1",
        "testWithdrawal": "npm run test:spark-withdraw -- --key YOUR_KEY --shares 0.05"
      },
      "defillama": {
        "poolId": "9f146531-9c31-46ba-8e26-6b59bdaca9ff",
        "url": "https://yields.llama.fi/pool/9f146531-9c31-46ba-8e26-6b59bdaca9ff"
      },
      "addedDate": "2025-09-06",
      "lastTested": "pending",
      "integrationNotes": [
        "Uses Morpho infrastructure with General Adapter multicall pattern",
        "Gasless transactions via CDP Paymaster", 
        "SPARKUSDC shares (18 decimals) backed by USDC (6 decimals)",
        "Integration based on successful transaction stack traces",
        "Requires testing validation before production deployment"
      ]
    }
  ],
  "metadata": {
    "version": "1.1.0",
    "lastUpdated": "2025-09-06",
    "totalPools": 2,
    "supportedChains": ["base"],
    "supportedAssets": ["USDC"],
    "patterns": {
      "erc4626-direct": {
        "description": "Direct ERC4626 vault interaction",
        "deposit": "approve + deposit",
        "withdrawal": "redeem",
        "gasless": true,
        "template": "src/templates/defi-pool-template/"
      },
      "morpho-multicall": {
        "description": "Morpho infrastructure with General Adapter multicall",
        "deposit": "approve + multicall via General Adapter",
        "withdrawal": "permit + redeem via General Adapter",
        "gasless": true,
        "template": "src/templates/defi-pool-template/"
      }
    },
    "testingRequirements": {
      "minimumAmount": "0.1 USDC",
      "maximumAmount": "100 USDC", 
      "requiredSuccessRate": "100%",
      "gasRequirement": "gasless",
      "yieldVerification": "required"
    }
  }
}